/*=======================================================
  Filename: CangoSVGtext-1v01.js
  Rev 1
  By: A.R.Collins

  Description: Adds Hershey stroked font support by
  adding the function drawSVGtext to the Cango
  canvas graphics library.

  License: Released into the public domain
  latest version at
  <http://www/arc.id.au/>

  Date    Description                               |By
  ------------------------------------------------------
  13Dec14 First release                              ARC
 =======================================================*/

  /*-------------------------------------------------------------
   This code is based on Jim Studt, CanvasTextFunctions
   see http://jim.studt.net/canvastext/
   It has been adapted to output Cgo2D format and has had Greek
   letters and a few symbols added from Hershey's original font
   -------------------------------------------------------------*/

  function stringToCgo2D(strg, x, y, fontSz, lorg)
  {
    "use strict"

    var xOfs = x || 0,
        yOfs = y || 0,
        size = fontSz || 12,
        lorigin = lorg || 1,
        i, c, sft,
        wid = 0,
        hgt = 0,
        wid2,
        hgt2,
        lorgX, lorgY,
        dx, dy, mag,
        lorgWC,
        charData,
        cgoData = [],
        hersheyFont = {
/*   */ ' ': {width:16, cdata:[]},
/* ! */ '!': {width:10, cdata:['M',5,21,'L',5,7,'M',5,2,'L',4,1,5,0,6,1,5,2]},
/* " */ '"': {width:16, cdata:['M',4,21,'L',4,14,'M',12,21,'L',12,14]},
/* # */ '#': {width:21, cdata:['M',11,25,'L',4,-7,'M',17,25,'L',10,-7,'M',4,12,'L',18,12,'M',3,6,'L',17,6]},
/* $ */ '$': {width:20, cdata:['M',8,25,'L',8,-4,'M',12,25,'L',12,-4,'M',17,18,'L',15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]},
/* % */ '%': {width:24, cdata:['M',21,21,'L',3,0,'M',8,21,'L',10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,'M',17,7,'L',15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]},
/* & */ '&': {width:26, cdata:['M',23,12,'L',23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]},
/* ' */ '\'': {width:10, cdata:['M',5,19,'L',4,20,5,21,6,20,6,18,5,16,4,15]},
/* ( */ '(': {width:14, cdata:['M',11,25,'L',9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]},
/* ) */ ')': {width:14, cdata:['M',3,25,'L',5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]},
/* * */ '*': {width:16, cdata:['M',8,15,'L',8,3,'M',3,12,'L',13,6,'M',13,12,'L',3,6]},
/* + */ '+': {width:26, cdata:['M',13,18,'L',13,0,'M',4,9,'L',22,9]},
/* , */ ',': {width:8, cdata:['M',5,4,'L',4,3,3,4,4,5,5,4,5,2,3,0]},
/* - */ '-': {width:26, cdata:['M',4,9,'L',22,9]},
/* . */ '.': {width:8, cdata:['M',4,5,'L',3,4,4,3,5,4,4,5]},
/* / */ '/': {width:22, cdata:['M',20,25,'L',2,-7]},
/* 0 */ '0': {width:20, cdata:['M',9,21,'L',6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]},
/* 1 */ '1': {width:20, cdata:['M',6,17,'L',8,18,11,21,11,0]},
/* 2 */ '2': {width:20, cdata:['M',4,16,'L',4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]},
/* 3 */ '3': {width:20, cdata:['M',5,21,'L',16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]},
/* 4 */ '4': {width:20, cdata:['M',13,21,'L',3,7,18,7,'M',13,21,'L',13,0]},
/* 5 */ '5': {width:20, cdata:['M',15,21,'L',5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]},
/* 6 */ '6': {width:20, cdata:['M',16,18,'L',15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]},
/* 7 */ '7': {width:20, cdata:['M',17,21,'L',7,0,'M',3,21,'L',17,21]},
/* 8 */ '8': {width:20, cdata:['M',8,21,'L',5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]},
/* 9 */ '9': {width:20, cdata:['M',16,14,'L',15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]},
/* : */ ':': {width:8, cdata:['M',4,12,'L',3,11,4,10,5,11,4,12,'M',4,5,'L',3,4,4,3,5,4,4,5]},
/* ; */ ';': {width:8, cdata:['M',4,12,'L',3,11,4,10,5,11,4,12,'M',5,4,'L',4,3,3,4,4,5,5,4,5,2,3,0]},
/* < */ '<': {width:24, cdata:['M',20,18,'L',4,9,20,0]},
/* = */ '=': {width:26, cdata:['M',4,12,'L',22,12,'M',4,6,'L',22,6]},
/* > */ '>': {width:24, cdata:['M',4,18,'L',20,9,4,0]},
/* ? */ '?': {width:18, cdata:['M',3,16,'L',3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,'M',9,2,'L',8,1,9,0,10,1,9,2]},
/* @ */ '@': {width:27, cdata:['M',18,13,'L',17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,'M',12,16,'L',10,14,9,11,9,8,10,6,11,5,'M',18,16,'L',17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,'M',19,16,'L',18,8,18,6,19,5]},
/* A */ 'A': {width:18, cdata:['M',9,21,'L',1,0,'M',9,21,'L',17,0,'M',4,7,'L',14,7]},
/* B */ 'B': {width:21, cdata:['M',4,21,'L',4,0,'M',4,21,'L',13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,'M',4,11,'L',13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]},
/* C */ 'C': {width:21, cdata:['M',18,16,'L',17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]},
/* D */ 'D': {width:21, cdata:['M',4,21,'L',4,0,'M',4,21,'L',11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]},
/* E */ 'E': {width:19, cdata:['M',4,21,'L',4,0,'M',4,21,'L',17,21,'M',4,11,'L',12,11,'M',4,0,'L',17,0]},
/* F */ 'F': {width:18, cdata:['M',4,21,'L',4,0,'M',4,21,'L',17,21,'M',4,11,'L',12,11]},
/* G */ 'G': {width:21, cdata:['M',18,16,'L',17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,'M',13,8,'L',18,8]},
/* H */ 'H': {width:22, cdata:['M',4,21,'L',4,0,'M',18,21,'L',18,0,'M',4,11,'L',18,11]},
/* I */ 'I': {width:8, cdata:['M',4,21,'L',4,0]},
/* J */ 'J': {width:16, cdata:['M',12,21,'L',12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]},
/* K */ 'K': {width:21, cdata:['M',4,21,'L',4,0,'M',18,21,'L',4,7,'M',9,12,'L',18,0]},
/* L */ 'L': {width:17, cdata:['M',4,21,'L',4,0,'M',4,0,'L',16,0]},
/* M */ 'M': {width:24, cdata:['M',4,21,'L',4,0,'M',4,21,'L',12,0,'M',20,21,'L',12,0,'M',20,21,'L',20,0]},
/* N */ 'N': {width:22, cdata:['M',4,21,'L',4,0,'M',4,21,'L',18,0,'M',18,21,'L',18,0]},
/* O */ 'O': {width:22, cdata:['M',9,21,'L',7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]},
/* P */ 'P': {width:21, cdata:['M',4,21,'L',4,0,'M',4,21,'L',13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]},
/* Q */ 'Q': {width:22, cdata:['M',9,21,'L',7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,'M',12,4,'L',18,-2]},
/* R */ 'R': {width:21, cdata:['M',4,21,'L',4,0,'M',4,21,'L',13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,'M',11,11,'L',18,0]},
/* S */ 'S': {width:20, cdata:['M',17,18,'L',15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]},
/* T */ 'T': {width:16, cdata:['M',8,21,'L',8,0,'M',1,21,'L',15,21]},
/* U */ 'U': {width:22, cdata:['M',4,21,'L',4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]},
/* V */ 'V': {width:18, cdata:['M',1,21,'L',9,0,'M',17,21,'L',9,0]},
/* W */ 'W': {width:24, cdata:['M',2,21,'L',7,0,'M',12,21,'L',7,0,'M',12,21,'L',17,0,'M',22,21,'L',17,0]},
/* X */ 'X': {width:20, cdata:['M',3,21,'L',17,0,'M',17,21,'L',3,0]},
/* Y */ 'Y': {width:18, cdata:['M',1,21,'L',9,11,9,0,'M',17,21,'L',9,11]},
/* Z */ 'Z': {width:20, cdata:['M',17,21,'L',3,0,'M',3,21,'L',17,21,'M',3,0,'L',17,0]},
/* [ */ '[': {width:14, cdata:['M',4,25,'L',4,-7,'M',5,25,'L',5,-7,'M',4,25,'L',11,25,'M',4,-7,'L',11,-7]},
/* \ */ '\\': {width:14, cdata:['M',0,21,'L',14,-3]},
/* ] */ ']': {width:14, cdata:['M',9,25,'L',9,-7,'M',10,25,'L',10,-7,'M',3,25,'L',10,25,'M',3,-7,'L',10,-7]},
/* ^ */ '^': {width:16, cdata:['M',8,23,'L',0,9,'M',8,23,'L',16,9]},
/* _ */ '_': {width:18, cdata:['M',0,-7,'L',18,-7]},
/* ` */ '`': {width:8, cdata:['M',5,16,'L',3,14,3,12,4,11,5,12,4,13,3,12]},
/* a */ 'a': {width:19, cdata:['M',15,14,'L',15,0,'M',15,11,'L',13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]},
/* b */ 'b': {width:19, cdata:['M',4,21,'L',4,0,'M',4,11,'L',6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]},
/* c */ 'c': {width:18, cdata:['M',15,11,'L',13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]},
/* d */ 'd': {width:19, cdata:['M',15,21,'L',15,0,'M',15,11,'L',13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]},
/* e */ 'e': {width:18, cdata:['M',3,8,'L',15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]},
/* f */ 'f': {width:12, cdata:['M',10,21,'L',8,21,6,20,5,17,5,0,'M',2,14,'L',9,14]},
/* g */ 'g': {width:19, cdata:['M',15,14,'L',15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,'M',15,11,'L',13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]},
/* h */ 'h': {width:19, cdata:['M',4,21,'L',4,0,'M',4,10,'L',7,13,9,14,12,14,14,13,15,10,15,0]},
/* i */ 'i': {width:8, cdata:['M',3,21,'L',4,20,5,21,4,22,3,21,'M',4,14,'L',4,0]},
/* j */ 'j': {width:10, cdata:['M',5,21,'L',6,20,7,21,6,22,5,21,'M',6,14,'L',6,-3,5,-6,3,-7,1,-7]},
/* k */ 'k': {width:17, cdata:['M',4,21,'L',4,0,'M',14,14,'L',4,4,'M',8,8,'L',15,0]},
/* l */ 'l': {width:8, cdata:['M',4,21,'L',4,0]},
/* m */ 'm': {width:30, cdata:['M',4,14,'L',4,0,'M',4,10,'L',7,13,9,14,12,14,14,13,15,10,15,0,'M',15,10,'L',18,13,20,14,23,14,25,13,26,10,26,0]},
/* n */ 'n': {width:19, cdata:['M',4,14,'L',4,0,'M',4,10,'L',7,13,9,14,12,14,14,13,15,10,15,0]},
/* o */ 'o': {width:19, cdata:['M',8,14,'L',6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]},
/* p */ 'p': {width:19, cdata:['M',4,14,'L',4,-7,'M',4,11,'L',6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]},
/* q */ 'q': {width:19, cdata:['M',15,14,'L',15,-7,'M',15,11,'L',13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]},
/* r */ 'r': {width:13, cdata:['M',4,14,'L',4,0,'M',4,8,'L',5,11,7,13,9,14,12,14]},
/* s */ 's': {width:17, cdata:['M',14,11,'L',13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]},
/* t */ 't': {width:12, cdata:['M',5,21,'L',5,4,6,1,8,0,10,0,'M',2,14,'L',9,14]},
/* u */ 'u': {width:19, cdata:['M',4,14,'L',4,4,5,1,7,0,10,0,12,1,15,4,'M',15,14,'L',15,0]},
/* v */ 'v': {width:16, cdata:['M',2,14,'L',8,0,'M',14,14,'L',8,0]},
/* w */ 'w': {width:22, cdata:['M',3,14,'L',7,0,'M',11,14,'L',7,0,'M',11,14,'L',15,0,'M',19,14,'L',15,0]},
/* x */ 'x': {width:17, cdata:['M',3,14,'L',14,0,'M',14,14,'L',3,0]},
/* y */ 'y': {width:16, cdata:['M',2,14,'L',8,0,'M',14,14,'L',8,0,6,-4,4,-6,2,-7,1,-7]},
/* z */ 'z': {width:17, cdata:['M',14,14,'L',3,0,'M',3,14,'L',14,14,'M',3,0,'L',14,0]},
/* { */ '{': {width:14, cdata:['M',9,25,'L',7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,'M',7,24,'L',6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,'M',6,8,'L',8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]},
/* | */ '|': {width:8, cdata:['M',4,25,'L',4,-7]},
/* } */ '}': {width:14, cdata:['M',5,25,'L',7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,'M',7,24,'L',8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,'M',8,8,'L',6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]},
/* ~ */ '~': {width:24, cdata:['M',3,6,'L',3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,'M',3,8,'L',4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]},
/*    &Alpha; */ '\u0391': {width:18, cdata:['M',9,21,'L',1,0,'M',9,21,'L',17,0,'M',4,7,'L',14,7]},
/*     &Beta; */ '\u0392': {width:21, cdata:['M',4,21,'L',4,0,'M',4,21,'L',13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,'M',4,11,'L',13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]},
/*      &Chi; */ '\u03A7': {width:20, cdata:['M',3,21,'L',17,0,'M',3,0,'L',17,21]},
/*    &Delta; */ '\u0394': {width:18, cdata:['M',9,21,'L',1,0,'M',9,21,'L',17,0,'M',1,0,'L',17,0]},
/*  &Epsilon; */ '\u0395': {width:19, cdata:['M',4,21,'L',4,0,'M',4,21,'L',17,21,'M',4,11,'L',12,11,'M',4,0,'L',17,0]},
/*      &Phi; */ '\u03A6': {width:20, cdata:['M',10,21,'L',10,0,'M',8,16,'L',5,15,4,14,3,12,3,9,4,7,5,6,8,5,12,5,15,6,16,7,17,9,17,12,16,14,15,15,12,16,8,16]},
/*    &Gamma; */ '\u0393': {width:17, cdata:['M',4,21,'L',4,0,'M',4,21,'L',16,21]},
/*      &Eta; */ '\u0397': {width:22, cdata:['M',4,21,'L',4,0,'M',18,21,'L',18,0,'M',4,11,'L',18,11]},
/*     &Iota; */ '\u0399': {width:8, cdata:['M',4,21,'L',4,0]},
/*   &middot; */ '\u00B7': {width:5, cdata:['M',2,10,'L',2,9,3,9,3,10,2,10]},
/*    &Kappa; */ '\u039A': {width:21, cdata:['M',4,21,'L',4,0,'M',18,21,'L',4,7,'M',9,12,'L',18,0]},
/*   &Lambda; */ '\u039B': {width:18, cdata:['M',9,21,'L',1,0,'M',9,21,'L',17,0]},
/*       &Mu; */ '\u039C': {width:24, cdata:['M',4,21,'L',4,0,'M',4,21,'L',12,0,'M',20,21,'L',12,0,'M',20,21,'L',20,0]},
/*       &Nu; */ '\u039D': {width:22, cdata:['M',4,21,'L',4,0,'M',4,21,'L',18,0,'M',18,21,'L',18,0]},
/*  &Omicron; */ '\u039F': {width:22, cdata:['M',9,21,'L',7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]},
/*       &Pi; */ '\u03A0': {width:22, cdata:['M',4,21,'L',4,0,'M',18,21,'L',18,0,'M',4,21,'L',18,21]},
/*    &Theta; */ '\u0398': {width:22, cdata:['M',9,21,'L',7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,'M',8,11,'L',14,11]},
/*      &Rho; */ '\u03A1': {width:21, cdata:['M',4,21,'L',4,0,'M',4,21,'L',13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]},
/*    &Sigma; */ '\u03A3': {width:18, cdata:['M',2,21,'L',9,11,2,0,'M',2,21,'L',16,21,'M',2,0,'L',16,0]},
/*      &Tau; */ '\u03A4': {width:16, cdata:['M',8,21,'L',8,0,'M',1,21,'L',15,21]},
/*    &upsih; */ '\u03A5': {width:18, cdata:['M',2,16,'L',2,18,3,20,4,21,6,21,7,20,8,18,9,14,9,0,'M',16,16,'L',16,18,15,20,14,21,12,21,11,20,10,18,9,14]},
/*      &deg; */ '\u00B0': {width:14, cdata:['M',6,21,'L',4,20,3,18,3,16,4,14,6,13,8,13,10,14,11,16,11,18,10,20,8,21,6,21]},
/*    &Omega; */ '\u03A9': {width:20, cdata:['M',3,0,'L',7,0,4,7,3,11,3,15,4,18,6,20,9,21,11,21,14,20,16,18,17,15,17,11,16,7,13,0,17,0]},
/*       &Xi; */ '\u039E': {width:18, cdata:['M',2,21,'L',16,21,'M',6,11,'L',12,11,'M',2,0,'L',16,0]},
/*      &Psi; */ '\u03A8': {width:22, cdata:['M',11,21,'L',11,0,'M',2,15,'L',3,15,4,14,5,10,6,8,7,7,10,6,12,6,15,7,16,8,17,10,18,14,19,15,20,15]},
/*     &Zeta; */ '\u0396': {width:20, cdata:['M',17,21,'L',3,0,'M',3,21,'L',17,21,'M',3,0,'L',17,0]},
/*    &alpha; */ '\u03B1': {width:21, cdata:['M',9,14,'L',7,13,5,11,4,9,3,6,3,3,4,1,6,0,8,0,10,1,13,4,15,7,17,11,18,14,'M',9,14,'L',11,14,12,13,13,11,15,3,16,1,17,0,18,0]},
/*     &beta; */ '\u03B2': {width:19, cdata:['M',12,21,'L',10,20,8,18,6,14,5,11,4,7,3,1,2,-7,'M',12,21,'L',14,21,16,19,16,16,15,14,14,13,12,12,9,12,'M',9,12,'L',11,11,13,9,14,7,14,4,13,2,12,1,10,0,8,0,6,1,5,2,4,5]},
/*      &chi; */ '\u03C7': {width:18, cdata:['M',2,14,'L',4,14,6,12,12,-5,14,-7,16,-7,'M',17,14,'L',16,12,14,9,4,-2,2,-5,1,-7]},
/*    &delta; */ '\u03B4': {width:18, cdata:['M',11,14,'L',8,14,6,13,4,11,3,8,3,5,4,2,5,1,7,0,9,0,11,1,13,3,14,6,14,9,13,12,11,14,9,16,8,18,8,20,9,21,11,21,13,20,15,18]},
/*  &epsilon; */ '\u03B5': {width:16, cdata:['M',13,12,'L',12,13,10,14,7,14,5,13,5,11,6,9,9,8,'M',9,8,'L',5,7,3,5,3,3,4,1,6,0,9,0,11,1,13,3]},
/*      &phi; */ '\u03C6': {width:22, cdata:['M',8,13,'L',6,12,4,10,3,7,3,4,4,2,5,1,7,0,10,0,13,1,16,3,18,6,19,9,19,12,17,14,15,14,13,12,11,8,9,3,6,-7]},
/*    &gamma; */ '\u03B3': {width:19, cdata:['M',1,11,'L',3,13,5,14,6,14,8,13,9,12,10,9,10,5,9,0,'M',17,14,'L',16,11,15,9,9,0,7,-4,6,-7]},
/*      &eta; */ '\u03B7': {width:20, cdata:['M',1,10,'L',2,12,4,14,6,14,7,13,7,11,6,7,4,0,'M',6,7,'L',8,11,10,13,12,14,14,14,16,12,16,9,15,4,12,-7]},
/*     &iota; */ '\u03B9': {width:11, cdata:['M',6,14,'L',4,7,3,3,3,1,4,0,6,0,8,2,9,4]},
/*    &times; */ '\u00D7': {width:22, cdata:['M',4,16,'L',18,2,'M',18,16,'L',4,2]},
/*    &kappa; */ '\u03BA': {width:18, cdata:['M',6,14,'L',2,0,'M',16,13,'L',15,14,14,14,12,13,8,9,6,8,5,8,'M',5,8,'L',7,7,8,6,10,1,11,0,12,0,13,1]},
/*   &lambda; */ '\u03BB': {width:16, cdata:['M',1,21,'L',3,21,5,20,6,19,14,0,'M',8,14,'L',2,0]},
/*       &mu; */ '\u03BC': {width:21, cdata:['M',7,14,'L',1,-7,'M',6,10,'L',5,5,5,2,7,0,9,0,11,1,13,3,15,7,'M',17,14,'L',15,7,14,3,14,1,15,0,17,0,19,2,20,4]},
/*       &nu; */ '\u03BD': {width:18, cdata:['M',3,14,'L',6,14,5,8,4,3,3,0,'M',16,14,'L',15,11,14,9,12,6,9,3,6,1,3,0]},
/*  &omicron; */ '\u03BF': {width:17, cdata:['M',8,14,'L',6,13,4,11,3,8,3,5,4,2,5,1,7,0,9,0,11,1,13,3,14,6,14,9,13,12,12,13,10,14,8,14]},
/*       &pi; */ '\u03C0': {width:22, cdata:['M',9,14,'L',5,0,'M',14,14,'L',15,8,16,3,17,0,'M',2,11,'L',4,13,7,14,20,14]},
/* &thetasym; */ '\u03D1': {width:21, cdata:['M',1,10,'L',2,12,4,14,6,14,7,13,7,11,6,6,6,3,7,1,8,0,10,0,12,1,14,4,15,6,16,9,17,14,17,17,16,20,14,21,12,21,11,19,11,17,12,14,14,11,16,9,19,7]},
/*      &rho; */ '\u03C1': {width:18, cdata:['M',4,8,'L',4,5,5,2,6,1,8,0,10,0,12,1,14,3,15,6,15,9,14,12,13,13,11,14,9,14,7,13,5,11,4,8,0,-7]},
/*    &sigma; */ '\u03C3': {width:20, cdata:['M',18,14,'L',8,14,6,13,4,11,3,8,3,5,4,2,5,1,7,0,9,0,11,1,13,3,14,6,14,9,13,12,12,13,10,14]},
/*      &tau; */ '\u03C4': {width:20, cdata:['M',11,14,'L',8,0,'M',2,11,'L',4,13,7,14,18,14]},
/*  &upsilon; */ '\u03C5': {width:20, cdata:['M',1,10,'L',2,12,4,14,6,14,7,13,7,11,5,5,5,2,7,0,9,0,12,1,14,3,16,7,17,11,17,14]},
/*   &divide; */ '\u00F7': {width:26, cdata:['M',13,18,'L',12,17,13,16,14,17,13,18,'M',4,9,'L',22,9,'M',13,2,'L',12,1,13,0,14,1,13,2]},
/*    &omega; */ '\u03C9': {width:23, cdata:['M',8,14,'L',6,13,4,10,3,7,3,4,4,1,5,0,7,0,9,1,11,4,'M',12,8,'L',11,4,12,1,13,0,15,0,17,1,19,4,20,7,20,10,19,13,18,14]},
/*       &xi; */ '\u03BE': {width:16, cdata:['M',10,21,'L',8,20,7,19,7,18,8,17,11,16,14,16,'M',11,16,'L',8,15,6,14,5,12,5,10,7,8,10,7,12,7,'M',10,7,'L',6,6,4,5,3,3,3,1,5,-1,9,-3,10,-4,10,-6,8,-7,6,-7]},
/*      &psi; */ '\u03C8': {width:23, cdata:['M',16,21,'L',8,-7,'M',1,10,'L',2,12,4,14,6,14,7,13,7,11,6,6,6,3,7,1,9,0,11,0,14,1,16,3,18,6,20,11,21,14]},
/*     &zeta; */ '\u03B6': {width:15, cdata:['M',10,21,'L',8,20,7,19,7,18,8,17,11,16,14,16,'M',14,16,'L',10,14,7,12,4,9,3,6,3,4,4,2,6,0,9,-2,10,-4,10,-6,9,-7,7,-7,6,-5]},
/*     &theta */ '\u03B8': {width:21, cdata:['M',12,21,'L',9,20,7,18,5,15,4,13,3,9,3,5,4,2,5,1,7,0,9,0,12,1,14,3,16,6,17,8,18,12,18,16,17,19,16,20,14,21,12,21,'M',4,11,'L',18,11]}
    };

    function strWidth(fontSize, str)
    {
      var total = 0,
          i, c;

      for (i=0; i<str.length; i++)
      {
      	c = hersheyFont[str.charAt(i)];
      	if (c)
        {
          total += c.width;
        }
      }

      return total;
    };

    function shiftChar(cAry, xof, yof, dx, dy, scl)    // cAry = Hershey Cgo2D array, d = shift required
    {
      var newAry = [],
          x, y,
          j = 0;

      while (j<cAry.length)
      {
        if (typeof cAry[j] === "string")
        {
          newAry.push(cAry[j++]);      // push the command letter
        }
        x = xof + scl*(cAry[j++] + dx);   // j now index of x coord in x,y pair
        y = yof + scl*(cAry[j++] + dy);
        newAry.push(+x.toFixed(3), +y.toFixed(3));   // the '+' coverts string back to number
      }
      return newAry;
    }

    if (typeof strg !== 'string')
    {
      return {"cgoData": [], "width": 0, "height": 0};
    }
    /* Note: char cell is 33 pixels high, M char size is 21 pixels (0 to 21), descenders go from -7 to 21.
       to convert this data to fontSize (pixels) scale array data by fontSize/33.
       Reference height for vertically alignment is charHeight = 29 pixels. */
    wid = strWidth(size, strg)
    hgt = 29;           // default font size in pixels,  wid = string width in pixels
    wid2 = wid/2;
    hgt2 = hgt/2;
    lorgWC = [0, [0, hgt],  [wid2, hgt],  [wid, hgt],
                 [0, hgt2], [wid2, hgt2], [wid, hgt2],
                 [0, 0],    [wid2, 0],    [wid, 0]];
    // calc lorg offset
    if (lorgWC[lorigin] !== undefined)  // check for out of bounds
    {
      lorgX = -lorgWC[lorigin][0];
      lorgY = -lorgWC[lorigin][1]+0.25*hgt;   // correct for alphabetic baseline, its offset about 0.25*char height ;
    }
    // scale by fontSize
    mag = size/33;        // size/33 is scale factor to give requested font size in pixels
    sft = 0;          // shift to move each letter into place
    for (i=0; i<strg.length; i++)
    {
      c = hersheyFont[strg.charAt(i)];
      if (c)
      {
        charData = shiftChar(c.cdata, xOfs, yOfs, sft+lorgX, lorgY, mag);
        sft += c.width;               // add character width to total
        cgoData = cgoData.concat(charData);   // make a single array of cgo2D for the whole string
      }
    }

    return {"cgoData": cgoData, "width": wid, "height": hgt, "weight":2.5*mag};
  }

